@model DigitalSphere.Models.SportMember
@{
    ViewBag.Title = "sport";
    Layout = "~/Views/Shared/User_Layout.cshtml";
}

<body background="~/images/back2.jpg">

@if(ViewData["sp"]==null)   
{
foreach(var i in ViewData["sportdetail"] as IEnumerable< DigitalSphere.Models.Sport>)
{
    <div class="col-md-3" style="margin-left: 40px; margin-right: 70px; margin-top: 50px; padding-top: 20px">

        <div>
            @{
                    var imgString = Convert.ToBase64String(i.Picture);
                    var pic = String.Format("data:image/gif;base64,{0}", imgString);
                }
            <img src="@pic" alt="chess" style="width: 100%; height: 230px; box-shadow: 0 20px 25px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);">
        </div>


        <div style="margin-top: 50px; border: 1px solid white; color: white;background-image: url(/images/gray.jpg); box-shadow: 0 20px 25px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);">
            <div  style="color: #fff; text-align:center; padding-top: 105px; height:300px">
                <h3>No Coach Assigned</h3>
            </div>

        </div>

    </div>
    <div class="col-md-8" style="height: 100%;">
        <div style="padding: 15px 15px 15px 15px; margin-top: 170px; margin-left: 70px;margin-right: 70px; font-size: 23px; color: #424242; border: 2px solid #424242; box-shadow: 0 10px 15px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);">
            @i.Description
        </div>
        <div style="padding: 10px 10px 10px 10px; margin-left: 150px; margin-right: 150px; margin-top: 70px; font-size: 25px; color: #424242; border: 2px solid #424242; box-shadow: 0 10px 15px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);">
            <table style="color: #424242;margin-left:100px;  font-size: 20px;">
                <tr>
                    <td style="font-weight:bold">Days</td>
                    <td>: @i.Day</td>
                </tr>
                <tr>
                    <td style="font-weight:bold">Time</td>
                    <td>: @i.Time</td>
                </tr>
<!--                <tr>
                    <td>Duration</td>
                    <td>: </td>
                </tr>-->
                <tr>
                    <td style="font-weight:bold">Fees</td>
                    <td>: Rs.@i.Fees/-</td>
                </tr>

            </table>
        </div>

    </div>
    <div class="col-md-1"></div>
}
    
}
else
{

foreach(var i in ViewData["sport"] as IEnumerable<DigitalSphere.Models.Coach_Emp_Sport>)
{
    <div class="col-md-3" style="margin-left: 40px; margin-right: 70px; margin-top: 50px; padding-top: 20px">

        <div>
            @{
                    var imgString = Convert.ToBase64String(i.Picture);
                    var pic = String.Format("data:image/gif;base64,{0}", imgString);
                }
            <img src="@pic" alt="chess" style="width: 100%; height: 230px; box-shadow: 0 20px 25px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);">
        </div>


        <div style="margin-top: 50px; border: 1px solid white; color: white; box-shadow: 0 20px 25px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19); background-image: url(/images/gray.jpg)">
            <div style="color: #424242; text-align: center; padding-top: 15px">
                @{
                     imgString = Convert.ToBase64String(i.Pro_pic);
                     pic = String.Format("data:image/gif;base64,{0}", imgString);
                }
                <center><img src="@pic" alt="admin" style="border-radius:50%;  height:100px; width:100px; border:2px solid white;"><center>
            </div>

            <div style="padding-top: 30px;">
                <center><table style="color:white; font-size:small">
					  <tr> <td><b> Coach</b></td><td>&nbsp;</td><td>:</td><td>&nbsp;</td><td ><b>@i.EmpName</b></td></tr>
						<tr><td><b>Experience</b></td><td>&nbsp;</td><td>:</td><td>&nbsp;</td><td><b>@i.Experience</b></td></tr>
					    <tr><td><b>Specialization</b></td><td>&nbsp;</td><td>:</td><td>&nbsp;</td><td ><b>@i.Specialization</b></td></tr>
					    <tr><td><b>Email</b></td><td>&nbsp;</td><td>:</td><td>&nbsp;</td><td><b>@i.Email</b></td></tr>
					    <tr><td><b>Contact</b></td><td>&nbsp;</td><td>:</td><td>&nbsp;</td><td ><b>@i.Contact</b></td></tr>

					   </table></center>
                <br />
            </div>
        </div>





    </div>
    <div class="col-md-8" style="height: 100%;">
        <div style="padding: 15px 15px 15px 15px; margin-top: 120px; margin-left: 70px; margin-right: 70px;  font-size: 23px; color: #424242; border: 2px solid #424242; box-shadow: 0 10px 15px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);">
            @i.Description
        </div>
        <div style="padding: 10px 10px 10px 10px; margin-left: 150px; margin-right: 150px; margin-top: 70px; font-size: 25px; color: #424242; border: 2px solid #424242; box-shadow: 0 10px 15px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);">
            <table style="color: #424242;margin-left:100px;  font-size: 20px;">
                <tr>
                    <td style="font-weight:bold">Days</td>
                    <td>: @i.Day</td>
                </tr>
                <tr>
                    <td style="font-weight:bold">Time</td>
                    <td>: @i.Time</td>
                </tr>
<!--                <tr>
                    <td>Duration</td>
                    <td>: </td>
                </tr>-->
                <tr>
                    <td style="font-weight:bold">Fees</td>
                    <td>: Rs.@i.Fees/-</td>
                </tr>

            </table>
        </div>

        <div style="margin-top: 60px; text-align: center">
            <a href="#myModal3" data-toggle="modal" data-target="#myModal3">
                <button type="submit" class="btn btn-md" style="background-color: #00bcd4; color: #ffffff; font-size: 20px; width: 250px; box-shadow: 0 10px 15px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19)">&nbsp;Enrol</button>
            </a>
        </div>
    </div>
    <div class="col-md-1"></div>


    <div class="modal fade" id="myModal3" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content" style="font-size:small">
                <div class="modal-header" style="padding: 15px 10px;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <center> <h4>Fill Your Details</h4></center>
                </div>
                <div class="modal-body" style="padding: 40px 50px;">
                    @using(Html.BeginForm("sport/"+i.Sport_Id,"Home",FormMethod.Post))
                    {
                    <form role="form">
                        <div class="form-group">
                            <label for="usrname"><span class="glyphicon glyphicon-user"></span>Name</label>
                           <!-- <input type="text" class="form-control" id="usrname2" placeholder="Enter Full Name">-->
                            @Html.TextBoxFor(m => m.Member_Name, new {@class="form-control", @id="usrname2", @placeholder="Enter Full Name" })
                        </div>
                        <div class="form-group">
                            <label for="email"><span class="glyphicon glyphicon-pencil"></span>Age</label>
<!--                            <input type="text" class="form-control" id="eid" placeholder="Enter Your Age">-->
                              @Html.TextBoxFor(m => m.Age, new {@class="form-control", @id="age", @placeholder="Enter Your Age" })
                        </div>
                        <div class="form-group">
                            <label for="contact"><span class="glyphicon glyphicon-earphone"></span>Email Id</label>
<!--                            <input type="text" class="form-control" id="cid" placeholder="Enter Contact No">-->
                              @Html.TextBoxFor(m => m.Email, new {@class="form-control", @id="cid", @placeholder="Enter Email  Id" })
                        </div>
                        <br />
                        <!--<a href="#modal4" data-toggle="modal" data-target="#modal4">-->
                            <input type="submit"  class="btn  btn-block" style="background-color: #00bcd4; color: #ffffff" value="Enrol Your Self" />
                        
                    </form>
                    }
                </div>

            </div>
        </div>
    </div>


    <div class="modal fade" id="modal4" role="dialog" style="padding-top: 200px">
        <div class="modal-dialog" style="height: 20%; width: 40%">
            <div class="modal-content">

                <div class="modal-body" style="padding: 40px 50px; text-align: center">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <form role="form" style="font-size:small">
                        <div class="form-group">
                            <label>
                                Thank You for Enrolling yourself!!<br />
                                You have been enrolled for @i.Sport_Name.<br />
                                Rs.@i.Fees/- will be deducted from your account every month
                            </label>
                        </div>

                        <button class="btn btn btn-block" style="background-color: #00bcd4;" data-dismiss="modal">OK</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
}
}
</body>

<script>
    $(document).ready(function () {

        $("#category").addClass("activetab");
        $("#sport").addClass("activetab");
        
        @if(TempData["Enrolled"]=="Enrolled")
        {
            @:$("#modal4").modal('show');
        }
        
        @if(TempData["enrol"] == "Already Enrolled")
        {
            @:alert("Already Enrolled for this Sport");
        }
    });

</script>